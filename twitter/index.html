<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JSの勉強</title>
  <style>
    .job {
      text-align: center;
      margin-top: 100px;
    }

    .warn {
      font-size: 40px;
      color: red;
    }

    .container {
      width: 200px;
      margin: 100px auto;
    }

    .hidden {
      display: none;
    }
  </style>
</head>

<body>


  <div class="container">
    <p id="show"></p>
    <input type="text" id="text">
    <p>３問連続で正解してください</p>
    <p id="judge"></p>
    <img src="" alt="" id="img">
    <button id="btn" class="hidden">次に進む</button>
  </div>
  <!--
  スタートボタンをクリック→タイマーが動く（経過時間（ミリ秒）画面に表示）
  ストップボタンを押すとタイマーが止まる
  リセットボタンでクリア（タイマーが初期化）
  スタートボタンを押す前はスタートボタンしか押せない（他のボタンは機能しない）
  スタートボタンを押すとストップボタンのみ機能する
  ストップボタンを押すとリセットボタンとスタートボタン(2度目・再クリック)が機能する
  
  ＜elapsedTimeを後から実装した場合の言語化＞
  ストップボタンを押した時の経過時間を保持（ここで経過時間を変数宣言する必要があることに気づく
  →NaNが出たので初期値に0を指定）
  スタートボタンを再びクリックした時に、前回保持した経過時間を更新するように実装
  リセットボタンを押したときにそれまでに累積した経過時間を初期化
  -->



  <script>
    'use strict';
    {
      const show = document.getElementById('show');
      const text = document.getElementById('text');
      const judge = document.getElementById('judge');
      const img = document.getElementById('img');
      const btn = document.getElementById('btn')
      let count=0;

      let a = Math.floor(Math.random() * 11);
      let b = Math.floor(Math.random() * 11);
      let c = a + b;
      show.textContent = `${a} + ${b} = ?`;

      function setQuestion() {
        a = Math.floor(Math.random() * 11);
        b = Math.floor(Math.random() * 11);
        c = a + b;
        show.textContent = `${a} + ${b} = ?`;
      }

      text.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          if (text.value === `${c}`) {
            if (count < 3) { judge.textContent = '正解！' };
            ++count;
            img.src=''
            if (count === 3) {
              img.src='img/atari.png';
            };
          };
          if (text.value !== `${c}`) {
            img.src='img/mukiryoku_obasan.png';
            count = 0;
            judge.textContent = '不正解！'
          };
          
          text.value = ''; //inputの値をリセット
          setQuestion();
          console.log(count);
        }
      });


    }
  </script>


</body>

</html>